<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Concept Forge - Cooperative Game Creation Platform</title>
    <link
      href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bitcount+Single+Ink:wght@100..900&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="fonts/style.css" />

    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="animated-dots" id="animatedDots"></div>

    <header>
      <nav class="container">
        <a href="#" class="logo">CONCEPT FORGE</a>
        <ul class="nav-links">
          <li><a href="#how">About</a></li>
          <li><a href="#vision">Vision</a></li>
          <!-- <li><a href="#uses">Contact</a></li> -->
          <li><a href="#waitlist">Join Waitlist</a></li>
        </ul>
      </nav>
    </header>

    <!-- HERO with inline SVG (RED glow version) -->
    <section class="hero">
      <div class="forge-glow fade-in">
       <img class="imgLogo" src="./logo.png">
      </div>
      <div class="sub-contener fade-in">
        <p class="subtitle">
          <span class="red">Cooperative</span>  Game <span class="red">Creation Platform</span>  <br>
          <!-- where <span class="Bold">Mods</span> mod
          <span class="Bold">Mods</span> -->
          <!-- Forging <span class="red">Legends</span> Together -->
        </p>
        <div class="cta-buttons">
          <a href="#how" class="btn btn-primary glow" style="margin: 0 auto"
            ><span class="Bold">Learn More</span></a
          >
        </div>
      </div>
    </section>

    <!-- Problem/Solution -->
    <section class="how-it-works" id="how">
      <div class="containerM">
        <h2 class="section-title serif">Forging Legends Together </h2>
   <p class="section-subtitle2 fade-in">
 <span class="Bold">Making games</span> alone is <span class="Bold">hard</span>, dangerous even
<br>Don’t worry, you’re safe — we’re here
<br><span class="Bold">Join the forge</span> and begin your <span class="Bold">path to greatness</span>
<br>We’ll build the <span class="Bold">real depth</span> you’ve always craved —<span class="Bold"> together </span>
</p>

        <div class="workflow">
          <div class="workflow-step fade-in">
            <h4>Recursive Modding</h4>
            <p>
              Our groundbreaking technology allows mods to modify other mods,
              creating infinite possibilities for game content generation and
              emergent gameplay experiences.
            </p>
          </div>
          <div class="workflow-step fade-in">
            <h4>Concepts</h4>
            <p>
              Layered modifiers that inject meaning. "Warden", "Coward", "Slave"
              - concepts that override and extend base behaviors contextually.
            </p>
          </div>
          <div class="workflow-step fade-in">
            <h4>Dynamic Engine</h4>
            <p>
              Built from the ground up to support self-modifying code
              structures, our engine adapts and evolves with each modification
              layer, pushing the boundaries of what's possible.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <!-- <section class="how-it-works" id="how">
      <div class="container">
        <h2 class="section-title serif">How It Works</h2>
        <p class="section-subtitle">
          Three core primitives that revolutionize game creation
        </p>

        <div class="workflow">
          <div class="workflow-step">
            <h4>Slots</h4>
            <p>
              Placeholders for categories of assets. A character has weapon
              slots, behavior slots, faction slots. Think semantic sockets, not
              hardcoded references.
            </p>
          </div>
          <div class="workflow-step">
            <h4>Concepts</h4>
            <p>
              Layered modifiers that inject meaning. "Warden", "Coward", "Slave"
              - concepts that override and extend base behaviors contextually.
            </p>
          </div>
          <div class="workflow-step">
            <h4>Categories</h4>
            <p>
              Types like weapon, behavior, faction. The taxonomy that gives
              structure to your game's semantic space.
            </p>
          </div>
        </div>

        <div class="code-sample">
          {<br />
          &nbsp;&nbsp;<span class="keyword">"character"</span>: {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">"slots"</span>: {<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword"
            >"behavior"</span
          >: <span class="string">"aggressive"</span>,<br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword"
            >"faction"</span
          >: <span class="string">"bandit"</span><br />
          &nbsp;&nbsp;&nbsp;&nbsp;},<br />
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">"concepts"</span>:
          [<span class="string">"coward"</span>,
          <span class="string">"swamp_cult"</span>]<br />
          &nbsp;&nbsp;}<br />
          }
        </div>
      </div>
    </section> -->

    <!-- Use Cases
    <section class="use-cases" id="uses">
      <div class="container">
        <h2 class="section-title serif">Use Cases</h2>
        <p class="section-subtitle">From simple mods to genre transformation</p>

        <div class="use-case">
          <h4>Behavioral Override</h4>
          <p>
            Transform any character by adding "Coward" - watch aggressive
            enemies flee, leaders abandon posts, guards hide instead of patrol.
            One concept, infinite applications.
          </p>
        </div>

        <div class="use-case">
          <h4>Factional Transformation</h4>
          <p>
            Create a Bandit Camp, then apply "Faction: Swamp Cult" - watch
            textures, dialogue, rituals, and AI priorities shift seamlessly to
            match the new context.
          </p>
        </div>

        <div class="use-case">
          <h4>Genre Shifting</h4>
          <p>
            Take Elden Ring assets, apply "Cyberpunk 2077" concepts - the same
            castle becomes a corporate tower, the same NPCs become corpo agents.
            Assets recontextualized, not rebuilt.
          </p>
        </div>

        <div class="use-case">
          <h4>Live Content Creation</h4>
          <p>
            Streamers can let audiences vote on concepts in real-time. "Make the
            boss Friendly + Drunk" - watch personality and mechanics shift live
            on stream.
          </p>
        </div>
      </div>
    </section> -->

    <!-- Audience -->
    <!-- <section class="audience">
      <div class="container">
        <h2 class="section-title serif">Built For</h2>
        <div class="audience-grid">
          <div class="audience-card">
            <h4>Game Designers</h4>
            <p>
              Build through storytelling, not scripting. Design by composing
              meaning, not managing dependencies.
            </p>
          </div>
          <div class="audience-card">
            <h4>Modders</h4>
            <p>
              Inject content without rebuilding systems. Layer meaning onto
              existing games seamlessly.
            </p>
          </div>
          <div class="audience-card">
            <h4>Streamers</h4>
            <p>
              Dynamic audience-driven game control. Let your community shape the
              experience in real-time.
            </p>
          </div>
          <div class="audience-card">
            <h4>AI Systems</h4>
            <p>
              Cleaner input-output control through semantic layers. LLMs
              understand concepts better than code.
            </p>
          </div>
          <div class="audience-card">
            <h4>Investors</h4>
            <p>
              Scalable UGC platform with concept-based revenue models. Content
              that compounds, not competes.
            </p>
          </div>
        </div>
      </div>
    </section> -->

    <!-- Vision -->
    <section class="vision" id="vision">
      <div class="container">
        <h2 class="section-title serif">The Vision</h2>
        <p class="section-subtitle fade-in">
          A future where games don't die, they evolve
        </p>
        <div class="vision-points">
          <div class="vision-point fade-in">
            <strong>Games no longer reset from scratch.</strong> Every project
            builds on the semantic foundation of those before it.
          </div>
          <div class="vision-point fade-in">
            <strong>Content becomes reusable, layered, alive.</strong> Assets
            transcend their original context, gaining new meaning through
            conceptual composition.
          </div>
          <div class="vision-point fade-in">
            <strong>A modular, remixable future for games.</strong> Where
            creation is composition, and every player becomes a co-creator.
          </div>
        </div>
      </div>
    </section>

    <!-- Footer CTA -->
    <section class="footer-cta" id="waitlist">
      <div class="container">
        <h2 class="section-title serif">Join the Revolution</h2>
        <p class="section-subtitle">
          Be first to shape the ecosystem. Early creators will be part of the
          first testnet and leave their mark on the next generation of games.
        </p>
        <form class="waitlist-form" id="waitlistForm">
          <input type="email" placeholder="Enter your email" required />
          <button
            type="submit"
            class="btn btn-primary glow"
            style="font-size: 20px"
          >
            Join waitlist
          </button>
        </form>
        <!-- <div class="social-links">
          <a href="#">Discord</a>
          <a href="#">Twitter</a>
          <a href="#">GitHub</a>
          <a href="#">Documentation</a>
        </div> -->
      </div>
    </section>
    <footer>
      <div class="container3">
        <p>&copy; 2025 Concept Forge. All rights reserved.</p>
        <p style="margin-top: 10px; opacity: 0.7">
          Forging the future of interactive entertainment, one mod at a time.
        </p>
      </div>
    </footer>
    <script>
      // Create animated dots
      function createDots() {
        const dotsContainer = document.getElementById("animatedDots");
        const numberOfDots = 150;
        for (let i = 0; i < numberOfDots; i++) {
          const dot = document.createElement("div");
          dot.className = "dot";
          dot.style.left = Math.random() * 100 + "%";
          dot.style.animationDelay = Math.random() * 8 + "s";
          dotsContainer.appendChild(dot);
        }
      }
      // Sparks around (if you add anvil later)
      function createSparks() {
        const anvilContainer = document.querySelector(".anvil-container");
        if (!anvilContainer) return;
        setInterval(() => {
          const spark = document.createElement("div");
          spark.className = "spark";
          const centerX = 150,
            centerY = 150,
            radius = 50,
            angle = Math.random() * Math.PI * 2;
          spark.style.left = centerX + Math.cos(angle) * radius + "px";
          spark.style.top = centerY + Math.sin(angle) * radius + "px";
          const dx = (Math.random() - 0.5) * 100 + "px";
          const dy = (Math.random() - 0.5) * 100 + "px";
          spark.style.setProperty("--dx", dx);
          spark.style.setProperty("--dy", dy);
          anvilContainer.appendChild(spark);
          setTimeout(() => {
            spark.remove();
          }, 3000);
        }, 500);
      }
      createDots();
      createSparks();

      // Smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target)
            target.scrollIntoView({ behavior: "smooth", block: "start" });
        });
      });

      // Waitlist form handling
      /*document
        .querySelector(".waitlist-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = this.querySelector('input[type="email"]').value;
          const button = this.querySelector("button");
          button.textContent = "Joining...";
          button.style.background = "var(--red)";
          setTimeout(() => {
            button.textContent = "Welcome to the Forge!";
            this.querySelector("input").value = "";
            setTimeout(() => {
              button.textContent = "Get Early Access";
            }, 2000);
          }, 1000);
        });*/
      const API_URL = "http://localhost:8080/waitlist"

      
document.getElementById("waitlistForm").addEventListener("submit", async function (e) {
  e.preventDefault();

  const input = this.querySelector("input[type=email], input[name=email]") || this.querySelector("input");
  const button = this.querySelector("button");
  const originalText = button.textContent;
  const email = (input.value || "").trim().toLowerCase();

  // prosty walidator (zgodny z backendem)
  const emailRe = /^[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$/i;
  if (!emailRe.test(email)) {
    toast("Invalid email.");
    return;
  }

  button.textContent = "Adding you…";
  button.disabled = true;

  try {
    // opcjonalnie: pobierz token z Turnstile, jeśli używasz
    let captchaToken;
    if (window.turnstile && typeof window.turnstile.getResponse === "function") {
      captchaToken = window.turnstile.getResponse();
    }

    const res = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        email,
        ...(captchaToken ? { captcha_response: captchaToken } : {})
      }),
    });

    if (res.status === 202) {
      // success (idempotentnie, bez zdradzania stanu)
      success(button, input, originalText);
      return;
    }

    // błędy „miękkie”
    if (res.status === 400) {
      const msg = (await res.text()).toLowerCase().includes("captcha") ? "Captcha failed." : "Invalid email.";
      throw new Error(msg);
    }
    if (res.status === 429) throw new Error("Too many requests — slow down, vampire.");

    // inne
    throw new Error("Server error. Try again later.");
  } catch (err) {
    console.error(err);
    fail(button, originalText, err.message || "Something went wrong.");
  } finally {
    // opcjonalnie zresetuj Turnstile po próbie
    if (window.turnstile && typeof window.turnstile.reset === "function") {
      window.turnstile.reset();
    }
  }
});

function success(button, input, originalText) {
  button.textContent = "✓ Added to waitlist!";
  const prevBg = button.style.background, prevBorder = button.style.borderColor;
  button.style.background = "#00aa00";
  button.style.borderColor = "#00aa00";
  input.value = "";
  setTimeout(() => {
    button.textContent = originalText;
    button.disabled = false;
    button.style.background = prevBg;
    button.style.borderColor = prevBorder || "var(--red)";
  }, 2500);
}

function fail(button, originalText, message) {
  toast(message);
  button.textContent = originalText;
  button.disabled = false;
}

// mini-toast (zero deps)
function toast(msg) {
  let t = document.getElementById("toast-min");
  if (!t) {
    t = document.createElement("div");
    t.id = "toast-min";
    t.style.cssText = "position:fixed;left:50%;bottom:24px;transform:translateX(-50%);padding:10px 14px;border-radius:8px;background:#300;color:#faa;border:1px solid #a00;font:14px/1.2 system-ui, sans-serif;z-index:9999;box-shadow:0 6px 24px rgba(0,0,0,.4)";
    document.body.appendChild(t);
  }
  t.textContent = msg;
  t.style.opacity = "1";
  setTimeout(() => (t.style.opacity = "0"), 2200);
}
    /*  document
        .getElementById("waitlistForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const email = this.querySelector("input").value;
          const button = this.querySelector("button");
          const originalText = button.textContent;

          button.textContent = "Adding you...";
          button.disabled = true;

          // Simulate API call
          setTimeout(() => {
            button.textContent = "✓ Added to Waitlist!";
            button.style.background = "#00aa00";
            button.style.borderColor = "#00aa00";
            this.querySelector("input").value = "";

            setTimeout(() => {
              button.textContent = originalText;
              button.disabled = false;
              button.style.background = "";
              button.style.borderColor = "var(--red)";
            }, 3000);
          }, 1500);
        });
*/
      // Header transparency
      window.addEventListener("scroll", () => {
        const header = document.querySelector("header");
        header.style.background =
          window.scrollY > 100
            ? "rgba(10, 10, 10, 0.98)"
            : "rgba(10, 10, 10, 0.95)";
      });
      // Intersection Observer for fade-in animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -100px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      // Observe all fade-in elements
      document.querySelectorAll(".fade-in").forEach((el) => {
        el.style.opacity = "0";
        el.style.transform = "translateY(30px)";
        el.style.transition = "all 0.6s ease";
        observer.observe(el);
      });
    </script>
  </body>
</html>
